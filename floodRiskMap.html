<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FloodAware - Integrated Flood Maps</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
    }
    .map-section {
      padding: 40px 20px;
      background: #f9f9f9;
    }
    .map-title {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 15px;
    }
    .map-container {
      height: 80vh;
      width: 100%;
      margin: 0 auto;
      border-radius: 8px;
      overflow: hidden;
    }
    .legend, .map-legend, .info-panel {
      font-size: 0.85rem;
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="navbar-container">
      <a href="#" id="navbar-logo">FLOODAWARE</a>
      <div class="mobile-toggle" id="toggle-btn">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </div>
    </div>
    <ul class="navbar-menu">
        <li class="navbar-item">
          <a href="/" class="navbar-links">Home</a>
        </li>
        <li class="navbar-item">
          <a href="floodRiskMap.html" class="navbar-links">Flood Risk Map</a>
        </li>
        <li class="navbar-item">
          <a href="populationData.html" class="navbar-links">Population Data</a>
        </li>
        <li class="navbar-item">
          <a href="reports.html" class="navbar-links">Insights & Reports</a>
        </li>
        <li class="navbar-item">
          <a href="about.html" class="navbar-links">About</a>
        </li>
        <li class="navbar-item">
          <a href="contact.html" class="navbar-links">Contact</a>
        </li>
      </ul>
  </nav>

  <!-- Bray Flood Map -->
  <section class="map-section" id="bray-section">
    <h2 class="map-title">Bray Flood Risk</h2>
    <div id="bray-map" class="map-container"></div>
  </section>

  <!-- Wicklow Roads & Rivers Map -->
  <section class="map-section" id="wicklow-section">
    <h2 class="map-title">Wicklow: Roads & Rivers Impact</h2>
    <div id="wicklow-map" class="map-container"></div>
  </section>

  <!-- Terrain & Elevation Map -->
  <section class="map-section" id="terrain-section">
    <h2 class="map-title">Wicklow Terrain & Elevation</h2>
    <div id="terrain-map" class="map-container"></div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-left">
        <h3>FLOODAWARE</h3>
        <p>Empowering communities with flood risk <br/> and population data insights.</p>
      </div>
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="floodRiskMap.html">Flood Risk Map</a></li>
            <li><a href="populationData.html">Population Data</a></li>
            <li><a href="reports.html">Insights & Reports</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>
      <div class="footer-right">
        <h4>Connect</h4>
        <p>Email: support@floodaware.com</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 FLOODAWARE. All rights reserved.</p>
    </div>
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

  <script>
    // --- Bray Map ---
    const brayMap = L.map('bray-map').setView([53.2, -6.12], 14);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(brayMap);
    L.tileLayer.wms('https://webgis-oye.sytes.net/geoserver/web/wms', {
      layers: 'webgisdb:flood_zone_b_cdp_2022_2028',
      format: 'image/png',
      transparent: true,
      opacity: 0.8,
      styles: 'flood_style'
    }).addTo(brayMap);
    const braySites = [
      { name: "Bray Town Centre", coords: [53.201, -6.118], risk: "High" },
      { name: "Dargle River Mouth", coords: [53.197, -6.121], risk: "Very High" },
      { name: "Flood Defense Wall", coords: [53.199, -6.115], risk: "Protected" }
    ];
    braySites.forEach(site => {
      let color = site.risk === "Very High" ? "#990000" : site.risk === "High" ? "#d7191c" : "#2c3e50";
      L.circleMarker(site.coords, {
        radius: 8, fillColor: color, color: '#fff', weight: 1, fillOpacity: 0.8
      }).bindPopup(`<b>${site.name}</b><br>Risk Level: ${site.risk}`).addTo(brayMap);
    });

    // --- Wicklow Map ---
    const wicklowMap = L.map('wicklow-map').setView([52.97, -6.32], 10);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png').addTo(wicklowMap);
    L.tileLayer.wms('https://webgis-oye.sytes.net/geoserver/web/wms', {
      layers: 'webgisdb:rivers',
      format: 'image/png',
      transparent: true,
      styles: 'river_flood_style'
    }).addTo(wicklowMap);
    L.tileLayer.wms('https://webgis-oye.sytes.net/geoserver/web/wms', {
      layers: 'webgisdb:rivers',
      format: 'image/png',
      transparent: true,
      styles: 'river_normal_style'
    }).addTo(wicklowMap);
    L.tileLayer.wms('https://webgis-oye.sytes.net/geoserver/web/wms', {
      layers: 'webgisdb:roads_flood_risk',
      format: 'image/png',
      transparent: true,
      styles: 'road_high_style'
    }).addTo(wicklowMap);
    L.tileLayer.wms('https://webgis-oye.sytes.net/geoserver/web/wms', {
      layers: 'webgisdb:roads_flood_risk',
      format: 'image/png',
      transparent: true,
      styles: 'road_medium_style'
    }).addTo(wicklowMap);
    const floodPoints = [
      { coords: [53.167, -6.133], name: "N11 Kilmacanogue", desc: "Most flooded national road in Wicklow" },
      { coords: [53.198, -6.120], name: "Dargle River", desc: "Peaked at 3.2m in 2015" },
      { coords: [52.976, -6.049], name: "Wicklow Town Bridge", desc: "Blocks during spring tides" }
    ];
    floodPoints.forEach(p => {
      L.circleMarker(p.coords, {
        radius: 8, fillColor: '#d62728', color: '#fff', weight: 1, fillOpacity: 0.9
      }).bindPopup(`<b>${p.name}</b><br>${p.desc}`).addTo(wicklowMap);
    });

    // --- Terrain Map ---
    const terrainMap = L.map('terrain-map').setView([52.97, -6.32], 10);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(terrainMap);
  </script>

</body>
</html>
